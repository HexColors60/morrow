--- !morrow-v1
# Base Entities used throughout the system.  Any Entity may be used as the base
# for another Entity, these are just the most generic among them.
- id: morrow:room
  components:
  - exits
  - environment
  - viewable:
      formatter: room
      short: An indescribable room
      desc: |-
        There is space here.

- id: morrow:template
  components:
  - template

# base entities for all class templates
- id: morrow:class
  components:
  - template
  - class_definition:
      health_func: !func '{ |l| l * 10 + 10 }'

- id: morrow:char
  base: morrow:template
  components:
  - character:
      health: 20
      health_max: 20
      health_regen: 0.012
  - corporeal:
      height: 1.8   # meters, because metric is the future!!
      weight: 79    # kg
      volume: 79    # liters, aproximate human density
  - keywords:
    - [ char ]
  - viewable:
      formatter: char
      short: a non-descript character
      long: A non-descript character is doing a thing here

- id: morrow:char/thief
  base: morrow:char
  components:
  - keywords:
    - [ thief ]
  - viewable:
      formatter: char
      short: a thief
      long: A thief stands partially concealed within the shadows.
  - abilities:
      dodge:
        type: :skill
        passive: true
        proficiency: 95
        proficiency_mod: 0
        proficiency_max: 95
        difficulty: 1
        level: 1
        cost: { mana: 0, health: 0, movement: 1 }

- id: morrow:obj
  base: morrow:template
  components:
  - keywords:
    - [ obj ]
  - viewable:
      formatter: obj
      short: an object
      long: You see nothing special...
  - corporeal:
      weight: 1
      volume: 1

- id: morrow:room/void
  base: morrow:room
  components:
  - viewable:
      short: The Void
      desc: You are floating in nothing

- id: morrow:player
  base: morrow:char
  components:
  - player_config
  - input

- id: morrow:race/human
  base: morrow:char
  components:
  - viewable:
      short: a human

- id: morrow:race/elf
  base: morrow:char
  components:
  - viewable:
      short: an elf
  - affect: [ attributes, strength, modify, -2 ]
  - affect: [ attributes, dexterity, modify, 1 ]
  - affect: [ attributes, wisdon, modify, 1 ]
  - corporeal:
      height: 1.8   # meters, because metric is the future!!
      weight: 70    # kg
      volume: 78    # lighter than human, but still take up the same space

- id: morrow:door/closed
  components:
  - keywords:
    - [ door ]
  - closable:
      closed: true

- id: morrow:door/open
  base: morrow:door/closed
  components:
  - closable:
      closed: false

- id: morrow:obj/remains/corpse
  base: morrow:obj
  components:
  - keywords:
    - [ remains, corpse ]
  - container
  - viewable:
      short: a decaying corpse
      long: a corpse is crumpled on the ground, releasing foul scents.
      contents: true
  - decay:
      act: '%{actor} decays into the soil.'

- id: morrow:obj/bag/small
  base: morrow:obj
  components:
  - keywords:
    - [ small, bag ]
  - viewable:
      short: a small bag
      long: a small bag is here, collecting dust
      contents: true
  - container:
      max_volume: 10
  - closable

- id: morrow:obj/chest/wooden
  base: morrow:obj
  components:
  - keywords:
    - [ wooden, chest ]
  - viewable:
      short: a wooden chest
      long: a wooden chest rests on the floor
      contents: true
  - container:
      max_volume: 100
  - closable

- id: morrow:obj/junk/ball
  base: morrow:obj
  components:
  - keywords:
    - [red, rubber, ball]
  - viewable:
      short: a red rubber ball
      long: a red rubber ball is on the floor
  - corporeal:
      weight: 0.1
      volume: 1

- id: morrow:act/teleporter
  components:
  - teleporter

- id: morrow:act/river
  components:
  - teleporter

